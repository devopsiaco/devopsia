<aside
  id="sidebar"
  class="w-72 max-w-full bg-white border-r md:static md:translate-x-0 fixed inset-y-0 -translate-x-full transition-transform duration-200 ease-out z-40"
  aria-label="Main Navigation"
>
  <div class="p-4 flex items-center gap-3 border-b">
    <img id="sidebar-avatar" alt="Avatar" class="w-10 h-10 rounded-full object-cover border" src='https://www.gravatar.com/avatar/?s=80&d=mp'>
    <div class="min-w-0">
      <div id="sidebar-user-email" class="text-sm font-medium truncate">Loading...</div>
      <div id="sidebar-user-plan" class="text-xs text-gray-500">—</div>
    </div>
    <button id="nav-close" class="ml-auto md:hidden p-2 rounded hover:bg-gray-100" aria-label="Close menu">✕</button>
  </div>
  <nav class="p-2">
    <a href="/" class="sidebar-link block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="home">Home</a>
    <!-- Collapsible AI Assistant group -->
    <div class="mt-1">
      <button id="ai-assistant-toggle" class="w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-100" aria-expanded="false" aria-controls="ai-assistant-group">
        <span class="font-medium">AI Assistant</span>
        <span id="ai-assistant-caret" aria-hidden="true">▸</span>
      </button>
      <div id="ai-assistant-group" class="ml-3 mt-1 hidden">
        <a href="/ai-assistant/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-root">Overview</a>
        <a href="/ai-assistant-terraform/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-terraform">Terraform</a>
        <a href="/ai-assistant-ansible/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-ansible">Ansible</a>
        <a href="/ai-assistant-k8s/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-k8s">Kubernetes</a>
        <a href="/ai-assistant-helm/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-helm">Helm</a>
        <a href="/ai-assistant-yaml/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-yaml">YAML</a>
        <a href="/ai-assistant-docker/" class="sidebar-sublink block px-3 py-2 rounded-lg hover:bg-gray-100" data-id="assistant-docker">Docker</a>
      </div>
    </div>
    <a href="/prompt-history/" class="sidebar-link block px-3 py-2 rounded-lg hover:bg-gray-100 mt-1" data-id="prompt-history">Prompt History</a>
    <a href="/user-account/" class="sidebar-link block px-3 py-2 rounded-lg hover:bg-gray-100 mt-1" data-id="user-account">User Account</a>
    <button id="sidebar-logout" class="w-full mt-2 px-3 py-2 text-left rounded-lg hover:bg-gray-100">Logout</button>
  </nav>
</aside>
